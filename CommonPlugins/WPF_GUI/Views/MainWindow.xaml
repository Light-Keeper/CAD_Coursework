<Window x:Class="WPF_GUI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:viewModel="clr-namespace:WPF_GUI.ViewModels"
        Title="CAD Course Work"
        MinWidth="800" MinHeight="500"
        Width="800" Height="500"
        WindowStartupLocation="CenterScreen"
        Icon="../Recources/Images/pcb.ico"
        MouseUp="MainWindow_OnMouseUp"
        PreviewKeyDown="MainWindow_OnPreviewKeyDown">
    <Window.Resources>
        <ResourceDictionary>
            <TextBlock x:Key="CursorGrab" Cursor="../Recources/Cursors/grab.cur"/>
            <TextBlock x:Key="CursorGrabbing" Cursor="../Recources/Cursors/grabbing.cur"/>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="../Recources/StylesRecourceDictionary.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="Auto"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <ScrollViewer Name="ImageViewer" Grid.Column="0" Grid.Row="0" Background="MintCream"
                      HorizontalScrollBarVisibility="Visible"
                      BorderThickness="3" BorderBrush="DarkGray"
                      PreviewMouseWheel="ImageViewer_OnMouseWheel"
                      MouseMove="ScrollViewer_OnMouseMove" Focusable="False">
            <ScrollViewer.DataContext>
                <viewModel:ImageViewerViewModel/>
            </ScrollViewer.DataContext>
            <Border Padding="10">
            <Image Source="../Recources/Images/background.jpg" Stretch="Uniform"
                   Height="{Binding Path=ImageHeight, Mode=OneWay}" Name="DisplayedImage"
                   MouseDown="DisplayedImage_OnMouseDown"
                   HorizontalAlignment="Center" VerticalAlignment="Center"/>
            </Border>
        </ScrollViewer>
        <Border Grid.Column="1" Grid.Row="0" Grid.RowSpan="2"
                BorderBrush="DarkGray" BorderThickness="5,0,0,0">
            <Grid Background="WhiteSmoke" Name="MinControlPanel" Visibility="Collapsed">
                <Grid.RowDefinitions>
                    <RowDefinition Height="25"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <StackPanel Grid.Row="0" Orientation="Horizontal">
                    <Button Name="MaximizeButton" Content="&lt;&lt;&lt;" Width="40"
                            Template="{StaticResource FadeInOutButton}"
                            Click="MaximizeButton_OnClick">
                        <Button.ToolTip>
                            Развернуть панель управления
                        </Button.ToolTip>
                    </Button>
                </StackPanel>
                <Button Content="12312" Grid.Row="1" Margin="1" Height="38" Width="38"/>
            </Grid>
        </Border>
        <Border Grid.Column="1" Grid.Row="0" Grid.RowSpan="2"
                BorderBrush="DarkGray" BorderThickness="5,0,0,0" Visibility="Visible">
            <Grid Width="220" Background="WhiteSmoke" Name="FullControlPanel">
                <Grid.DataContext>
                    <viewModel:ControlPanelViewModel/>
                </Grid.DataContext>
                <Grid.RowDefinitions>
                    <RowDefinition Height="25"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <!-- Заголовок и кнопка скрытия панели управления -->
                <StackPanel Grid.Row="0" Orientation="Horizontal">
                    <Button Name="MinimizeButton" Content="&gt;&gt;&gt;" Width="40"
                            Template="{StaticResource FadeInOutButton}"
                            Click="MinimizeButton_OnClick">
                        <Button.ToolTip>
                            Свернуть панель управления
                        </Button.ToolTip>
                    </Button>
                    <Label Content="Панель управления" HorizontalAlignment="Center" FontSize="14" Padding="1"
                           HorizontalContentAlignment="Center" VerticalContentAlignment="Center" Width="180">
                        <Label.Background>
                            <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                <GradientStop Color="#C9FFFFFF" Offset="0" />
                                <GradientStop Color="#E85D6DB5" Offset="1" />
                            </LinearGradientBrush>
                        </Label.Background>
                    </Label>
                </StackPanel>
                <GroupBox Grid.Row="1" Header="Исходные данные" Margin="2" Padding="2">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <Label Content="Входной файл:" Grid.Row="0" Grid.ColumnSpan="2" Margin="3,0" Padding="2" />
                        <TextBox Grid.Row="1" IsReadOnly="True" VerticalAlignment="Center" Margin="0,0,3,0" Width="140" Height="22" Focusable="False" />
                        <Button Grid.Row="1" Grid.Column="1" Content="Открыть" Padding="1" Margin="2,0,0,0"/>
                        <Label Content="Метод компановки:" Grid.Row="2" Grid.ColumnSpan="2" Margin="3,0" Padding="2" />
                        <ComboBox Grid.Row="3" Grid.ColumnSpan="2"
                                  ItemsSource="{Binding Path=MapMethodCollection, Mode=OneWay}"
                                  SelectedItem="{Binding Path=SelectedMapMethod, Mode=OneWayToSource}"/>
                        <Label Content="Метод трассировки:" Grid.Row="4" Grid.ColumnSpan="2" Margin="3,0" Padding="2" />
                        <ComboBox Grid.Row="5" Grid.ColumnSpan="2"
                                  ItemsSource="{Binding Path=RouteMethodCollection, Mode=OneWay}"
                                  SelectedItem="{Binding Path=SelectedRouteMethod, Mode=OneWayToSource}"/>
                    </Grid>
                </GroupBox>
                <GroupBox Grid.Row="2" Header="Режим работы" Margin="2" Padding="2">
                    <StackPanel>
                        <RadioButton Content="Демонстрационный" Margin="0,3" IsChecked="{Binding Path=IsDemoMode, Mode=TwoWay}"/>
                        <RadioButton Content="Автоматический" Margin="0,3" IsChecked="{Binding Path=IsAutoMode, Mode=TwoWay}"/>
                        <RadioButton Content="Пошаговый" Margin="0,3" IsChecked="{Binding Path=IsStepMode, Mode=TwoWay}"/>
                    </StackPanel>
                </GroupBox>
                <GroupBox Grid.Row="3" Header="Моделирование" Margin="2" Padding="2">
                    <StackPanel>
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                            <Button Content="{Binding Path=StartButtonName, Mode=OneWay}" Style="{StaticResource StartStopButton}" />
                            <Button Content="Остановить" Style="{StaticResource StartStopButton}" IsEnabled="False"/>
                        </StackPanel>
                        <StackPanel>
                            <RadioButton Content="Компановать" Margin="0,3" IsChecked="True"/>
                            <RadioButton Content="Трассировать" Margin="0,3" IsEnabled="False"/>
                        </StackPanel>
                        <CheckBox Name="ShowLogViewer" Content="Отображать консоль" Margin="0,5,0,3"
                                  IsChecked="{Binding Path=ShowLog}"/>
                    </StackPanel>
                </GroupBox>
                <GroupBox Grid.Row="4" Header="Информация" Margin="2" Padding="2">
                    <StackPanel>
                        <Button Content="О программе"/>
                    </StackPanel>
                </GroupBox>
            </Grid>
        </Border>
        <!-- Строка состояния -->
        <StatusBar Grid.Row="1" Height="25" BorderThickness="0 1 0 0" BorderBrush="DarkGray">
            <StatusBar.DataContext>
                <viewModel:StatusBarViewModel/>
            </StatusBar.DataContext>
            <StatusBarItem>
                <Image Source="{Binding Path=ImageStatePath}">
                    <Image.ToolTip>
                        <Label Content="{Binding Path=ImageStateToolTip}"/>
                    </Image.ToolTip>
                </Image>
            </StatusBarItem>
            <StatusBarItem Content="{Binding Path=InfoMessage}">
                <!-- Вывод информации о текущем состоянии программы -->
            </StatusBarItem>
            <StatusBarItem HorizontalAlignment="Right">
                <Slider Minimum="10" Maximum="200" Width="100" TickPlacement="BottomRight"
                        Value="{Binding ImageZoom, Mode=TwoWay}"
                        IsSnapToTickEnabled="True" Name="ImageZoom">
                    <Slider.ToolTip>
                        <Label Content="{Binding Path=ZoomToolTip}"/>
                    </Slider.ToolTip>
                </Slider>
            </StatusBarItem>
        </StatusBar>
    </Grid>
</Window>